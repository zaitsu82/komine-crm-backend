# Database Configuration
# ローカル開発環境（Docker未使用）
DATABASE_URL="postgresql://username:password@localhost:5432/komine_cemetery_crm"

# Direct URL（マイグレーション用 — PgBouncerを経由しない直接接続）
# Supabase環境ではポート5432の直接接続URLを設定してください
# ローカル開発環境ではDATABASE_URLと同じ値でOK
# DIRECT_URL="postgresql://postgres.[project-ref]:[YOUR-PASSWORD]@db.[project-ref].supabase.co:5432/postgres"

# Docker環境用データベース設定
# docker-compose.yml使用時はこれらの値が自動的にDATABASE_URLに組み込まれます
# DB_USER="cemetery_user"
# DB_PASSWORD="cemetery_password"
# DB_NAME="komine_cemetery_crm"
# DB_PORT="5432"

# Server
PORT=4000
NODE_ENV=development
# サーバー起動ログに表示するベースURL（省略時は http://localhost:PORT）
# Render環境では RENDER_EXTERNAL_URL が自動設定されるため不要
# BASE_URL="https://your-api-domain.com"

# CORS Configuration
# 本番環境では必ず許可するオリジンを指定してください
# 複数のオリジンを指定する場合はカンマ区切りで記述
# 例: "https://example.com,https://app.example.com"
ALLOWED_ORIGINS="http://localhost:3000"

# Supabase Configuration
# Supabaseプロジェクトの設定から取得してください
# https://app.supabase.com/project/{your-project-id}/settings/api

# Supabase URL
SUPABASE_URL="https://your-project-id.supabase.co"

# Supabase Service Role Key (サーバーサイド専用 - 絶対に公開しないこと)
# Settings > API > Project API keys > service_role からコピー
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key-here"

# Sentry Configuration (Optional - エラートラッキング)
# Sentryプロジェクトの設定から取得してください
# https://sentry.io/settings/{your-org}/projects/{your-project}/keys/

# Sentry DSN (Data Source Name)
# 設定しない場合、Sentryは無効化されます
# SENTRY_DSN="https://your-key@your-org.ingest.sentry.io/your-project-id"

# Sentry環境設定（development, staging, production など）
# 未設定の場合はNODE_ENVの値を使用
# SENTRY_ENVIRONMENT="development"

# パフォーマンストレーシングのサンプリングレート（0.0 - 1.0）
# 開発環境: 1.0（全トレース）推奨
# 本番環境: 0.1-0.3（10-30%サンプリング）推奨
# SENTRY_TRACES_SAMPLE_RATE="1.0"

# 注意事項：
# 1. このファイルをコピーして .env ファイルを作成してください
# 2. SUPABASE_SERVICE_ROLE_KEYは絶対に公開しないでください
# 3. フロントエンドではanon keyを使用し、service role keyは使用しないでください
# 4. Docker環境で使用する場合は、DB_USER, DB_PASSWORD, DB_NAME, DB_PORTを設定してください
#    （DATABASE_URLは自動的に生成されます）
# 5. 本番環境では強力なパスワードを使用してください
# 6. SENTRY_DSNは機密情報として扱い、Gitにコミットしないでください
